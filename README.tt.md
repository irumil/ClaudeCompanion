# ClaudeCompanion

๐ฌ๐ง [English](README.md) | ๐ท๐บ [ะัััะบะธะน](README.ru.md) | โค๏ธ ะขะฐัะฐััะฐ

---

Claude.ai API ะบะฒะพัะฐััะฝ ัะตะฐะปั ะฒะฐะบัััะฐ ะบาฏะทำัาฏ ำฉัะตะฝ ัะธััะตะผะฐ ััะตะนัะฝะดะฐ ััะฝะฐัะบะฐะฝ ะบัััะผัะฐ.

![Architecture](schema/architecture-simple.txt)

## ะำฉะผะบะธะฝะปะตะบะปำั

- ๐ฏ **ะะตะฐะปั ะฒะฐะบัััะฐ ะบาฏะทำัาฏ** - าบำั 60 ัะตะบัะฝะดัะฐ ัาฃะฐััั
- ๐จ **ะขัะตะนะดะฐ ะดะธะฝะฐะผะธะบ ะธะบะพะฝะบะฐ** - ะะฒะพัะฐ ะบะฐะปะดัะณัะฝ ัำฉัะปะต ะบะพะดะปะฐั ะฑะตะปำะฝ ะฟัะพัะตะฝัะปะฐัะดะฐ ะบาฏััำัำ
- ๐ **ะะบัะปะปั ะฑะตะปะดะตัาฏะปำั** - ะะฒะพัะฐ ะฑะตัะบำะฝะดำ ะบะธัำัำ
- โ๏ธ **ะััำะฝะณะต ะะปะพะด ะฑะตะปำะฝ ัำะปะฐะผะปำัาฏ** - 5 ัำะณะฐััะปะตะบ ะปะธะผะธัะฝั ะพะฟัะธะผะฐะปัะปำััะตัาฏ ำฉัะตะฝ ัะฐัะฟะธัะฐะฝะธะต ะฑัะตะฝัะฐ ะฐะฒัะพะผะฐัะธะบ ัำะฑำั าะธะฑำัาฏ
- ๐ **ะัะฐัะทะตั ะฑะตะปำะฝ ะธะฝัะตะณัะฐัะธั** - ะััะปัะบััะท ะฐััะตะฝัะธัะธะบะฐัะธั ำฉัะตะฝ Firefox ะบะธาฃำะนัะผำัะต
- โ๏ธ **ะำฉะนะปำาฏะปำัะฝะต ะบะฐะนะฝะฐั ัาฃะฐััั** - าฎะทะณำัะตัะปำัะดำ ัาฃะฐะดะฐะฝ ะฑะฐัะปะฐั ัะฐะปำะฟ ะธัะผะธ
- ๐ **ะัะพะบัะธ ััะดำะผะต** - ะะพัะฟะพัะฐัะธะฒ ะฟัะพะบัะธ-ัะตัะฒะตัะปะฐั ะฑะตะปำะฝ ััะปะธ
- ๐ **าะตะฝัะตะบะปะต ะบะธาฃำัะปำั** - 5 ัำะณะฐัั าปำะผ 7 ะบำฉะฝ ะบะฒะพัะฐัั ััััะฝะดะฐ ะผำะณัะปาฏะผะฐั ะบาฏััำัำ
- ๐ **ะัะพัั-ะฟะปะฐััะพัะผะฐะปัะปัะบ** - Windows, macOS (Intel าปำะผ Apple Silicon) าปำะผ Linux ััะดำะผะต

## ะขำฉั ะธะฝะดะธะบะฐัะธััะต

- ๐ข **ะฏัะตะป** (> 40%) - ะาฏะฟ ะบะฒะพัะฐ
- ๐ก **ะกะฐัั** (20-40%) - ะฃััะฐัะฐ ะบัะปะปะฐะฝั
- ๐ด **ะัะทัะป** (< 20%) - ะะท ะบะฒะพัะฐ
- โช **ะกะพัั** - ะขะพัะฐัั ัะฐัะฐัั

## โ๏ธ ะะธัำัาฏ าปำะผ ัะธัะบัะปะฐั

### ะัะปะปะฐะฝะณะฐะฝัั ะผำฉาปะธะผ ะผำะณัะปาฏะผะฐั

**ClaudeCompanion ัำัะผะธ ะฑัะปะผะฐะณะฐะฝ Claude.ai API ะบัะปะปะฐะฝะฐะณะพั.** ะะพะฝัาฃ ะผำะณัะฝำัะต:

1. **ะฅะธัะฐะฟ ะฑะปะพะบะปะฐั ะฟะพัะตะฝัะธะฐะปั ัะธัะบั**
   - ะัััะผัะฐ ะฐััะบ ะบัะปะปะฐะฝั ำฉัะตะฝ ััะฐะปะผะฐะณะฐะฝ ััะบะต API'ะณะฐ ะผำฉัำาำะณะฐัั ะธัำ
   - Claude.ai ะผะพะฝั ะบัะปะปะฐะฝั ัะฐััะปะฐััะฝ ะฑะพะทั ะดะธะฟ ัะฐะฝัะน ะฐะปะฐ
   - ะะบัะปะปั ะบัะปะปะฐะฝัะดะฐ ัะธัะบ ัาฏะฑำะฝ ะฑัะปัะฐ ะดะฐ, ะฑะตะท ะฐะฝั ััะปัััะฝัะฐ ััะณะฐัะฐ ะฐะปะผัะนะฑัะท

2. **ะะฒัะพะผะฐัะปะฐััััั ToS ะฑะพะทััะณะฐ ะผำฉะผะบะธะฝ**
   - าบำั 30-120 ัะตะบัะฝะดัะฐ ะฐะฒัะพะผะฐัะธะบ ัะพัะฐั
   - ะะฒัะพะผะฐัะธะบ ัำะฑำั าะธะฑำัาฏ (greeting ััะฝะบัะธััะต)
   - ะะพั ัััำะฝะปะตะณะต ะดะธะฟ ัะฐะฝะฐะปััะณะฐ ะผำฉะผะบะธะฝ

### โ ะััะบัะฝััััะท ะบัะปะปะฐะฝั ัำะบัะดะธะผะฝำัะต

1. **ะกะพัะฐั ะธะฝัะตัะฒะฐะปัะฝ ะฐััััััะณัะท**
   ```yaml
   poll_interval_seconds: 60  # ะะธะฝะธะผัะผ 60 ัะตะบัะฝะด
   # ัะบะธ ะทัััะฐะบ ะบััะบัะฝััััะทะปัะบ ำฉัะตะฝ:
   poll_interval_seconds: 120  # 2 ะผะธะฝัั
   ```

2. **Greeting ััะฝะบัะธััะตะฝ ัะฐะบะปะฐะฟ ะบัะปะปะฐะฝัะณัะท**
   ```yaml
   greeting:
     greeting_cron: "0 8 * * *"  # โ ะำฉะฝะณำ ะฑะตั - ะบััะบัะฝััััะท
     # greeting_cron: "*/5 * * * *"  # โ าบำั 5 ะผะธะฝัััะฐ - ะะฃะะะซะะซะง
   ```

3. **ะจำััะธ ะผะฐะบัะฐัะปะฐั ำฉัะตะฝ ะณะตะฝำ ะบัะปะปะฐะฝัะณัะท**
   - ะะตั ัะธัะฐะฟ
   - ะะฐััะฐะปั ะฐะฒัะพะผะฐัะปะฐััััั ำฉัะตะฝ ะบัะปะปะฐะฝะผะฐะณัะท
   - ะะตัะฝะธัำ ัะธัะฐะฟัะฐ ะฑะตั าฏะบ ะฒะฐะบัััะฐ ะฑะฐัะปะฐะผะฐะณัะท

4. **24/7 ัะตะถะธะผะดะฐ ัะพัะผะฐะณัะท**
   - ะญัะปำะณำะฝะดำ ะณะตะฝำ ะฑะฐัะปะฐะณัะท
   - ะขำฉะฝะปำ าปำะผ ัะป ะบำฉะฝะฝำัะตะฝะดำ ััะบัะฐััะณัะท

### ๐ ะะธัะบะปะฐัะฝั ะฑำัะปำาฏ

**ะขาฎะำะ ัะธัะบ**, ำะณำั:
- โ ะกะพัะฐั ะธะฝัะตัะฒะฐะปั โฅ 60 ัะตะบัะฝะด
- โ Greeting ะผะฐะบัะธะผัะผ ะบำฉะฝะณำ 1-2 ัะฐะฟะบัั
- โ ะะตั ัะธัะฐะฟัะฐ ัำััะธ ะบัะปะปะฐะฝั
- โ ะญั ะฒะฐะบัััะฝะดะฐ ะณัะฝะฐ ะฑะฐัะปะฐั

**ะฎะะะะซ ัะธัะบ**, ำะณำั:
- โ าบำั 5-10 ัะตะบัะฝะดัะฐ ะตัะปั ัะพัะฐั
- โ ะัะปั ะฐะฒัะพะผะฐัะธะบ ัำะฑำัะปำั
- โ ะาฏะฟ ัะธัะฐะฟะปะฐัะดะฐ ะบัะปะปะฐะฝั
- โ ะขำะฝำัะตััะตะท 24/7 ััะต

### ๐ฏ ะะธัะบะปะตะนะผะตั

**าฎะท ัะธัะบัะณัะทะณะฐ ะบัะปะปะฐะฝัะณัะท.** ะญัะปำะฟ ััะณะฐััััะปะฐั ัะธัะฐะฟะฝัาฃ ะฑะปะพะบะปะฐะฝัั ัะบะธ ะบัััะผัะฐะฝั ะบัะปะปะฐะฝัะฝัาฃ ะฑะฐัะบะฐ ะฝำัะธาำะปำัะต ำฉัะตะฝ าะฐะฒะฐะฟะปัะปัะบ ะฐะปะผัะนะปะฐั. Claude.ai ะฑะตะปำะฝ ััะปำาฏะฝะตาฃ ัำัะผะธ าปำะผ ะบััะบัะฝััััะท ัััะปั - claude.ai ัะฐะนััะฝะดะฐ ะฒะตะฑ-ะธะฝัะตััะตะนั ะณัะฝะฐ ะบัะปะปะฐะฝาฏ.

ำะณำั Claude.ai ัะตะทะฝะตาฃ ััะตะณะตะท ำฉัะตะฝ ะผำฉาปะธะผ ะฑัะปัะฐ, ัำัะผะธ ะฒะตะฑ-ะธะฝัะตััะตะนั ะณัะฝะฐ ะบัะปะปะฐะฝััะณะฐ ะบะฐัะฐัะณะฐ ะผำฉะผะบะธะฝ.

## ะฃัะฝะฐััััั

### 1. ะำฉะบะปำาฏ

ะกะพาฃะณั ัะตะปะธะทะฝั [Releases](../../releases) ะฑะธัะตะฝะฝำะฝ ะนำฉะบะปำะณะตะท ัะบะธ ััะณะฐะฝะฐะบะปะฐัะดะฐะฝ าัะตะณัะท.

### 2. ะำฉะนะปำาฏ

`config.yaml.example`ะฝั `config.yaml`ะณะฐ ะบาฏัะตัะตะณะตะท าปำะผ ะฟะฐัะฐะผะตััะปะฐัะฝั ะบำฉะนะปำะณะตะท:

```yaml
proxy: "http://ัะตะทะฝะตาฃ-ะฟัะพะบัะธ:ะฟะพัั"  # ะััััััะน: ัะตะทะฝะตาฃ ะฟัะพะบัะธ-ัะตัะฒะตั
browser_path: "C:\\Program Files\\Mozilla Firefox\\firefox.exe"  # ะััััััะน: ะฑัะฐัะทะตัะณะฐ ัะป
enable_file_logging: false  # true = ัะฐะนะปะณะฐ ะปะพะณะปะฐั, false = ะบะพะฝัะพะปั ะณัะฝะฐ
```

### 3. ะัะฐัะทะตั ะบะธาฃำะนัะผำัะตะฝ ััะฝะฐััััั

1. Firefox ะฐััะณัะท
2. `about:debugging#/runtime/this-firefox` ะฑะธัะตะฝำ ะบาฏัะตะณะตะท
3. "ะะฐะณััะทะธัั ะฒัะตะผะตะฝะฝะพะต ะดะพะฟะพะปะฝะตะฝะธะต" ะฑะฐััะณัะท
4. `extension/manifest.json` ัะฐะนะปัะฝ ัะฐะนะปะฐะณัะท

### 4. ะะฐัะปะฐั

`claudecompanion.exe`ะฝั ะธะบะต ัะฐะฟะบัั ัะธัััะตัะตะณะตะท - ะบัััะผัะฐ ัะธััะตะผะฐ ััะตะนัะฝะดะฐ ะฑะฐัะปะฐะฝะฐัะฐะบ (ะบะพะฝัะพะปั ัำัำะทำัะตะท).

## ะัะปะปะฐะฝั

1. **ะัััะผัะฐะฝั ะฑะฐัะปะฐะณัะท** - `claudecompanion.exe` ัะฐะนะปัะฝ ะฑะฐัะปะฐะณัะท
2. **Firefox'ัะฐ Claude.ai ะฐััะณัะท** - ะะธาฃำะนัะผำ ะฐััะตะฝัะธัะธะบะฐัะธั ะผำะณัะปาฏะผะฐััะฝ ะฐะฒัะพะผะฐัะธะบ าะธะฑำัำัำะบ
3. **ะขัะตะนะดะฐะณั ะธะบะพะฝะบะฐะฝั ัะธะบัะตัะตะณะตะท** - ะะฒะพัะฐ ะบะฐะปะดัะณัะฝ ะฟัะพัะตะฝัะปะฐัะดะฐ ะบาฏััำัำ
4. **ะฃาฃ ัำฉะนะผำ ะฑะตะปำะฝ ัะธัััะตัะตะณะตะท** ะธะบะพะฝะบะฐะณะฐ ะผะตะฝั ำฉัะตะฝ:
   - "ะัะบัััั Claude.ai" - Claude.ai ะฑัะฐัะทะตัะดะฐ ะฐัั
   - "ะัะบัััั ะฝะฐัััะพะนะบะธ" - ะะพะฝัะธะณััะฐัะธัะฝะต ัะตะดะฐะบัะธัะปำาฏ
   - "ะััะพะด" - ะัััะผัะฐะฝั ัะฑั

## ะะพะฝัะธะณััะฐัะธั

ะะฐัะปัะบ ะบำฉะนะปำาฏะปำั `config.yaml` ัะฐะนะปัะฝะดะฐ:

### ะขำฉะฟ ะบำฉะนะปำาฏะปำั

```yaml
server_port: 8383              # ะัะฐัะทะตั ะบะธาฃำะนัะผำัะต ัะพัะฐัั ะฟะพััั
poll_interval_seconds: 60      # ะะฒะพัะฐะฝั ะฝะธัำ ัะฐะฟะบัั ัะธะบัะตัะตัะณำ
proxy: ""                      # HTTP ะฟัะพะบัะธ (ะบะธัำะบ ัาฏะณะตะป ะธะบำะฝ ะฑัั ะบะฐะปะดัััะณัะท)
browser_path: ""               # ะัะฐัะทะตัะณะฐ ัะป (ะบะธะปะตัาฏ ะฑัะฐัะทะตัั ำฉัะตะฝ ะฑัั ะบะฐะปะดัััะณัะท)
curl_path: ""                  # ะะธะปะตัาฏ ำฉัะตะฝ ะฑัั ะบะฐะปะดัััะณัะท (Windows'ัะฐ curl.exe, macOS'ัะฐ /opt/homebrew/opt/curl/bin/curl), ัะบะธ าฏะท ัะปัะณัะทะฝั ะบาฏััำัะตะณะตะท
enable_file_logging: false     # ะคะฐะนะปะณะฐ ะปะพะณะปะฐั ะบะฐะฑัะทั
```

### ะะตะปะดะตัาฏ ะบำฉะนะปำาฏะปำัะต

```yaml
low_value_notifications:
  enabled: true
  threshold: 20                # ะะฒะพัะฐ <= 20% ะฑัะปะณะฐะฝะดะฐ ะฑะตะปะดะตัะตัะณำ
  phrases:                     # ะะท ะบะฒะพัะฐ ำฉัะตะฝ ะพััะฐะบะปั ััะฐะทะฐะปะฐั
    - "ำจะนะณำ ะบะฐะนัั ะฒะฐะบััั! ๐ก"
    - "ะฏะป ะธัาฏ ะฒะฐะบััั! โ"
  zero_phrases:                # ะัะปั ะบะฒะพัะฐ ำฉัะตะฝ ะพััะฐะบะปั ััะฐะทะฐะปะฐั
    - "ะะฐัััั, ะบะฐะฟัั! ๐ฅ"
    - "Game over! ๐ฎ"
```

### ะะตะผะพ-ัะตะถะธะผ

ะะฐัะปัะบ ััะฝะบัะธัะปำัะฝะต าปำะผ ะฑะตะปะดะตัาฏะปำัะฝะต ัะตััะปะฐั ำฉัะตะฝ:

```yaml
demo_mode:
  enabled: true
  duration_seconds: 60         # 60 ัะตะบัะฝะดัะฐ 100% โ 0% าฏะทะณำัะตัะตะฝ ัะธะผัะปััะธัะปะธ
```

ะะตะผะพ ัะตะถะธะผัะฝะดะฐ ะบาฏััำัะตะปำ:
- ะะบะพะฝะบะฐ าฏะทะณำัาฏะต 100%ะดะฐะฝ 0%ะณะฐ (ััะตะป โ ัะฐัั โ ะบัะทัะป)
- าบำั ัะธะบะปะฝัาฃ ะฑะฐััะฝะดะฐ "ะััำะฝะณะต ะะปะพะด ะฑะตะปำะฝ ัำะปะฐะผะปำัาฏ" ะฑะตะปะดะตัาฏะต โ๏ธ
- ะะท ะบะฒะพัะฐ ะฑะตะปะดะตัาฏะปำัะต (ัะธะบะบำ ะธัะตัะบำะฝะดำ)
- ะัะปั ะบะฒะพัะฐ ะฑะตะปะดะตัาฏะปำัะต

### ะััำะฝะณะต ะะปะพะด ะฑะตะปำะฝ ัำะปะฐะผะปำัาฏ

5 ัำะณะฐััะปะตะบ ะปะธะผะธัะฝั ะพะฟัะธะผะฐะปัะปำััะตัาฏ ำฉัะตะฝ ัะฐัะฟะธัะฐะฝะธะต ะฑัะตะฝัะฐ ัะฐัะบะฐ ะฐะฒัะพะผะฐัะธะบ ัำะฑำั าะธะฑำัาฏ:

```yaml
greeting:
  greeting_cron: "0 8 * * *"   # Cron ัะฐัะฟะธัะฐะฝะธะต: าปำั ะบำฉะฝ ะธััำะฝ 8ะดำ
  greeting_text: "Ok"          # ะฅำะฑำั ัะตะบััั
  greeting_chat_id: ""         # ะงะฐั UUID'ั (ััะปำาฏ ำฉัะตะฝ ะผำาะฑาฏัะธ)
```

**ะงะฐั UUID'ะฝั ะฝะธัะตะบ ะฐะปััะณะฐ:**
1. claude.ai'ะดะฐ ะบะธัำะบะปะต ัะฐัะฝั ะฐััะณัะท
2. UUID URL'ะดะฐ ััะฝะฐัะบะฐะฝ: `https://claude.ai/chat/{UUID}`
3. UUID'ะฝั `greeting_chat_id` ะบำฉะนะปำาฏะณำ ะบาฏัะตัะตะณะตะท

**Cron ัะฐัะฟะธัะฐะฝะธะต ะผะธัะฐะปะดะฐัั:**
- `"0 8 * * *"` - าปำั ะบำฉะฝ 8:00ะดำ
- `"0 9 * * 1-5"` - 9:00ะดำ ัั ะบำฉะฝะฝำัะตะฝะดำ (ะดั-าะผ)
- `"30 7 * * *"` - าปำั ะบำฉะฝ 7:30ะดะฐ
- `"*/5 * * * *"` - าปำั 5 ะผะธะฝัััะฐ (ัะตััะปะฐั ำฉัะตะฝ)

ะกำะปะฐะผะปำัาฏ าะธะฑำัะณำะฝะดำ "ะััำะฝะณะต ะะปะพะด ะฑะตะปำะฝ ัำะปะฐะผะปำัาฏ" ะฑะตะปะดะตัาฏะต ััะณะฐัะฐะบ โ๏ธ

### ะญั ัำะณะฐััะปำัะต

API ัะพัะฐัะปะฐััะฝ ะฑะธะปะณะตะปะต ะฒะฐะบัั ะธะฝัะตัะฒะฐะปะปะฐััะฝะดะฐ ัะธะบะปำาฏ (ะผำัำะปำะฝ, ัั ะฒะฐะบัััะฝะดะฐ ะณัะฝะฐ):

```yaml
work_hours:
  enabled: true               # ะญั ัำะณะฐััะปำัะตะฝะดำ ะณะตะฝำ ัะพัะฐัะฝั ะบะฐะฑัะทั
  start: "08:00"              # ะะฐัะปะฐั ะฒะฐะบััั (ัะพัะผะฐั HH:MM)
  end: "20:00"                # ะะตัะตัาฏ ะฒะฐะบััั (ัะพัะผะฐั HH:MM)
```

**ะะธัะตะบ ััะปะธ:**
- `enabled: true` ะฑัะปะณะฐะฝะดะฐ API ัะพัะฐัั `start` ะฑะตะปำะฝ `end` ะฐัะฐััะฝะดะฐ ะณัะฝะฐ ะฑัะปะฐ
- 24 ัำะณะฐััะปะตะบ ัะพัะผะฐั ะบัะปะปะฐะฝะฐ (HH:MM)
- ะขำฉะฝะณะต ะธะฝัะตัะฒะฐะปะปะฐัะฝั ััะดะฐะผ ะธัำ (ะผำัำะปำะฝ, `start: "20:00"`, `end: "08:00"` ัำฉะฝะณะต ัะผะตะฝะฐ ำฉัะตะฝ)
- ะญั ัำะณะฐััะปำัะตะฝะฝำะฝ ััั ัะพัะฐั าฏัะบำัะตะปะผะธ (API ัะพัะฐั ะฑะฐัะบะฐััะปะผัะน)
- ะะธัำะบัะตะท API ะบัะปะปะฐะฝััะฝั าปำะผ ัะฐะฑั ัะธัะบัะฝ ะบะธะผะตัะตัะณำ ะฑัะปััะฐ

**ะะธัะฐะปะปะฐั:**
- `start: "08:00"`, `end: "20:00"` - ะณะฐะดำัะธ ัั ะบำฉะฝะต (ะธััำะฝ 8ะดำะฝ ะบะธั 8ะณำ)
- `start: "09:00"`, `end: "17:00"` - ััะฐะฝะดะฐัั ะพัะธั ัำะณะฐััะปำัะต (9ะดะฐะฝ 5ะบำ)
- `start: "20:00"`, `end: "08:00"` - ัำฉะฝะณะต ัะผะตะฝะฐ

## ะััะธัะตะบัััะฐ

ะัััะผัะฐ ะธะบะต ำฉะปะตััำะฝ ัะพัะฐ:

### 1. ะัะฐัะทะตั ะบะธาฃำะนัะผำัะต (Firefox)
- Claude.ai ัะฐะนััะฝะฝะฐะฝ `sessionKey` cookie'ะฝะต ะฐะปะฐ
- ะะตัะผะฐ UUID'ััะฝ ะฐะปะฐ
- ะััะตะฝัะธัะธะบะฐัะธั ะผำะณัะปาฏะผะฐััะฝ าปำะผ organizationId ะดะตัะบัะพะฟ ะบัััะผัะฐััะฝะฐ าะธะฑำัำ

### 2. ะะตัะบัะพะฟ ะบัััะผัะฐัั (Go)
- **HTTP Server** - ะัะฐัะทะตั ะบะธาฃำะนัะผำัะตะฝะฝำะฝ ะผำะณัะปาฏะผะฐั ะฐะปะฐ
- **API Client** - าบำั 60 ัะตะบัะฝะดัะฐ Claude.ai API'ะณะฐ ัะพัะฐั ัััะน
- **Cron Scheduler** - ะะฐัะฟะธัะฐะฝะธะต ะฑัะตะฝัะฐ ัำะปะฐะผะปำัาฏ าะธะฑำัำ
- **Tray Manager** - ะัะพัะตะฝัะปั ะดะธะฝะฐะผะธะบ ะธะบะพะฝะบะฐ ะบาฏััำัำ
- **Icon Generator** - ะขำฉัะปะต ัะธััะฐะปั 48x48 ะธะบะพะฝะบะฐะปะฐั ัััะน
- **Notifier** - Windows Toast ะฑะตะปะดะตัาฏะปำัะต
- **Config Manager** - ะะพะฝัะธะณััะฐัะธัะฝะต ะบะฐะนะฝะฐั ัาฃะฐััั
- **Logger** - ะััััััะน ัะฐะนะปะณะฐ ะปะพะณะปะฐั

าะตะฝัะตะบะปะต ะฐััะธัะตะบัััะฐ ััะตะผะฐัั ำฉัะตะฝ [schema/architecture.md](schema/architecture.md) ะบะฐัะฐะณัะท.

## ะงัะณะฐะฝะฐะบะปะฐัะดะฐะฝ าัั

### ะขะฐะปำะฟะปำั

- Go 1.21 ัะบะธ ัะณะฐัััะฐะบ
- Windows (Windows ำฉัะตะฝ าัั), macOS (macOS ำฉัะตะฝ าัั) ัะบะธ Linux (Linux ำฉัะตะฝ าัั)
- Git (ะธััััััะน, ัะตะฟะพะทะธัะพัะธะนะฝั ะบะปะพะฝะปะฐั ำฉัะตะฝ)
- **macOS ำฉัะตะฝ ะณะตะฝำ**: Homebrew curl (ะผำาะฑาฏัะธ, ัาฏะฑำะฝะดำะณะต ััะฝะฐััััั ะบาฏััำัะผำะปำัะตะฝ ะบะฐัะฐะณัะท)
- **Linux ำฉัะตะฝ ะณะตะฝำ**: ะกะธััะตะผะฐ ะบะธัะฐะฟัะฐะฝำะปำัะต (libayatana-appindicator3-dev, libgtk-3-dev, curl, libnotify-bin)

### macOS ำฉัะตะฝ าัั

ะัััะผัะฐ macOS'ัะฐ (Intel าปำะผ Apple Silicon) ะฝะฐัะธะฒะปั ะฑะตะปะดะตัาฏะปำั าปำะผ ัะธััะตะผะฐ ััะตะนัะฝะฐ ะธะฝัะตะณัะฐัะธั ะฑะตะปำะฝ ััะปะธ.

```bash
# 1. ะะตะฟะพะทะธัะพัะธะนะฝั ะบะปะพะฝะปะฐั (ัะบะธ ZIP ะนำฉะบะปำาฏ)
git clone https://github.com/irumil/ClaudeCompanion.git
cd ClaudeCompanion

# 2. าัั ัะบัะธะฟััะฝ ะฑะฐัะปะฐั
cd build
./build-macos.sh
```

ะกะบัะธะฟั ะฑะฐัะบะฐัะฐัะฐะบ:
- ะำะนะปำะฝะตัะปำัะฝะต ะนำฉะบะปำาฏ
- Intel (amd64) ำฉัะตะฝ าัั
- Apple Silicon (arm64) ำฉัะตะฝ าัั
- ะะบะต ะฐััะธัะตะบัััะฐะดะฐ ะดะฐ ััะปำาฏัะต ัะฝะธะฒะตััะฐะปั ะฑะธะฝะฐัะฝะธะบ ััะฐั

**าัั ะฝำัะธาำะปำัะต:**
- `dist/claudecompanion` - ะฃะฝะธะฒะตััะฐะปั ะฑะธะฝะฐัะฝะธะบ

**ะัััะผัะฐะฝั ะฑะฐัะปะฐั:**
```bash
# ะัะพะตะบั ัะฐะผัััะฝะฝะฐะฝ
./dist/claudecompanion

# ะะพะฝัะธะณ ะฐะฒัะพะผะฐัะธะบ ััะฐะปะฐัะฐะบ:
# ~/Library/Application Support/ClaudeCompanion/config.yaml
```

**macOS าฏะทะตะฝัำะปะตะบะปำัะต:**
- ะัะฐัะทะตั ะบะธาฃำะนัะผำัะต Firefox'ัะฐ ััะปะธ (Windows ะบะตะฑะตะบ ะบำฉะนะปำาฏ)
- ะะตะปะดะตัาฏะปำั macOS ะฝะฐัะธะฒะปั ะฑะตะปะดะตัาฏ าฏะทำะณะตะฝ ะบัะปะปะฐะฝะฐะปะฐั
- ะัััะผัะฐ ะธะบะพะฝะบะฐัั ะผะตะฝั ำฉะปะบำัะตะฝะดำ ะบาฏัะตะฝำ
- CGO ะบะธัำะบ (าัั ัะบัะธะฟัั ะฑะตะปำะฝ ะฐะฒัะพะผะฐัะธะบ ะบะฐะฑัะฝะฐ)
- **Homebrew curl ะบะธัำะบ** - ะกะธััะตะผะฐ curl Cloudflare ัะฐัะฐััะฝะฝะฐะฝ ะฑะปะพะบะปะฐะฝััะณะฐ ะผำฉะผะบะธะฝ. ะฃัะฝะฐััััั:
  ```bash
  brew install curl
  ```
  ะัััะผัะฐ ะบะธะปะตัาฏ ะฑัะตะฝัะฐ `/opt/homebrew/opt/curl/bin/curl` ะบัะปะปะฐะฝะฐ. ะะฐัะบะฐ curl ะบัะปะปะฐะฝััะณะฐ ำฉัะตะฝ, `config.yaml`ะดะฐ `curl_path` ะบาฏััำัะตะณะตะท:
  ```yaml
  curl_path: "/ัะตะทะฝะตาฃ/curl/ัะปั"
  ```

### Linux ำฉัะตะฝ าัั

ะัััะผัะฐ Linux'ัะฐ ะฝะฐัะธะฒะปั ะฑะตะปะดะตัาฏะปำั าปำะผ ัะธััะตะผะฐ ััะตะนัะฝะฐ ะธะฝัะตะณัะฐัะธั ะฑะตะปำะฝ ััะปะธ.

**ะะธัำะบะปะต ะฟะฐะบะตัะปะฐั:**
```bash
# ะะธัำะบะปะต ัะธััะตะผะฐ ะบะธัะฐะฟัะฐะฝำะปำัะตะฝ ััะฝะฐัััััะณัะท
# Ubuntu/Debian ำฉัะตะฝ:
sudo apt-get install -y libayatana-appindicator3-dev libgtk-3-dev curl libnotify-bin

# Fedora/RHEL ำฉัะตะฝ:
sudo dnf install -y libappindicator-gtk3-devel gtk3-devel curl libnotify

# Arch Linux ำฉัะตะฝ:
sudo pacman -S libappindicator-gtk3 gtk3 curl libnotify
```

**าัั:**

Linux ำฉัะตะฝ าััะฝะตาฃ ะธะบะต ัััะปั ะฑะฐั:

**ะะฐัะธะฐะฝั 1: Docker ะบัะปะปะฐะฝัะฟ (Linux ะฑัะปะผะฐะณะฐะฝ ัะธััะตะผะฐะปะฐั ำฉัะตะฝ ัำะบัะดะธะผ ะธัะตะปำ)**
```bash
# 1. ะะตะฟะพะทะธัะพัะธะนะฝั ะบะปะพะฝะปะฐั (ัะบะธ ZIP ะนำฉะบะปำาฏ)
git clone https://github.com/irumil/ClaudeCompanion.git
cd ClaudeCompanion

# 2. ะะฒัะพะผะฐัะธะบ าัั ัะบัะธะฟััะฝ ะฑะฐัะปะฐั (Docker ะบะธัำะบ)
cd build
./build-linux.sh

# amd64 าปำะผ arm64 ำฉัะตะฝ ะฑะธะฝะฐัะฝะธะบะปะฐั าัะตะปะฐ:
# - dist/linux-amd64/claudecompanion
# - dist/linux-arm64/claudecompanion (ะบัะพัั-ะบะพะผะฟะธะปััะธั ัาฃััะปั ะฑัะปัะฐ)
```

**ะะฐัะธะฐะฝั 2: Linux'ัะฐ ััััะดะฐะฝ-ัััั าัั**
```bash
# 1. ะะตะฟะพะทะธัะพัะธะนะฝั ะบะปะพะฝะปะฐั (ัะบะธ ZIP ะนำฉะบะปำาฏ)
git clone https://github.com/irumil/ClaudeCompanion.git
cd ClaudeCompanion

# 2. ะกะธััะตะผะฐ ะฑำะนะปำะฝะตัะปำัะตะฝ ััะฝะฐััััั (Ubuntu/Debian)
sudo apt-get install -y libayatana-appindicator3-dev libgtk-3-dev pkg-config

# 3. าัั
CGO_ENABLED=1 go build -ldflags "-s -w" -o dist/claudecompanion ./cmd/claudecompanion

# 4. ะะพะฝัะธะณะฝั ะบาฏัะตัาฏ
cp config.yaml.example dist/config.yaml

# 5. ะัััะผัะฐะฝั ะฑะฐัะปะฐั
./dist/claudecompanion

# ะะพะฝัะธะณ ะฐะฒัะพะผะฐัะธะบ ััะฐะปะฐัะฐะบ:
# ~/.config/claudecompanion/config.yaml
```

**Linux าฏะทะตะฝัำะปะตะบะปำัะต:**
- ะัะฐัะทะตั ะบะธาฃำะนัะผำัะต Firefox'ัะฐ ััะปะธ (Windows ะบะตะฑะตะบ ะบำฉะนะปำาฏ)
- ะะตะปะดะตัาฏะปำั `notify-send` ะบัะปะปะฐะฝะฐะปะฐั (libnotify)
- ะกะธััะตะผะฐ ััะตะนัะฝะดะฐะณั ะธะบะพะฝะบะฐ AppIndicator ะบะธัะฐะฟัะฐะฝำัะตะฝ ัะฐะปำะฟ ะธัำ
- CGO ะบะธัำะบ (`CGO_ENABLED=1` ะบัะตะณัะท)
- ะะธะปะตัาฏ ะฑัะตะฝัะฐ ัะธััะตะผะฐ `curl` ะบัะปะปะฐะฝะฐ (`/usr/bin/curl`)
- ะกะธััะตะผะฐ ััะตะนั ััะดำะผะต ะฑะตะปำะฝ ัั ำฉััำะปะต ะผะพัะธัะต ะบะธัำะบ (GNOME, KDE, XFCE าป.ะฑ.)

### Windows ำฉัะตะฝ ะบัััะผัะฐะฝัาฃ าปำะผ ะบะธาฃำะนัะผำะฝะตาฃ ััะปั าััั

#### ะะฐัะธะฐะฝั 1: ะะฒัะพะผะฐัะธะบ าัั (ัำะบัะดะธะผ ะธัะตะปำ)

ะาฃ ะณะฐะดะธ ัััะป - ำะทะตั ัะบัะธะฟัะฝั ะบัะปะปะฐะฝั:

```bash
# ะะฐััััะฝ ะดะฐ าัั (ะบัััะผัะฐ + ะบะธาฃำะนัะผำ)
cd build
build-all.bat

# ะฏะบะธ ะบะพะฝัะพะปัะปะต ะพัะปะฐะดะบะฐ ะฒะตััะธััะต ะณะตะฝำ
build-debug.bat
```

#### ะะฐัะธะฐะฝั 2: ะัะป ะฑะตะปำะฝ ัะธะท าัั

```bash
# 1. ะะตะฟะพะทะธัะพัะธะนะฝั ะบะปะพะฝะปะฐั (ัะบะธ ZIP ะนำฉะบะปำาฏ)
git clone https://github.com/irumil/ClaudeCompanion.git
cd ClaudeCompanion

# 2. ะำะนะปำะฝะตัะปำัะฝะต ััะฝะฐััััั
go mod download

# 3. ะัััะผัะฐะฝั าัั (ะบะพะฝัะพะปััะตะท ัะตะปะธะท ะฒะตััะธััะต)
go build -ldflags "-H windowsgui" -o dist/claudecompanion.exe ./cmd/claudecompanion

# 4. ะะธัำะบะปะต ัะฐะนะปะปะฐัะฝั ะบาฏัะตัาฏ
copy config.yaml.example dist\config.yaml

# 5. ะัะฐัะทะตั ะบะธาฃำะนัะผำัะตะฝ าัั
cd build
package-extension.bat
cd ..
```

ำะทะตั! ะัััะผัะฐ `dist/claudecompanion.exe`ัะฐ, ะบะธาฃำะนัะผำ `dist/claudecompanion-extension.zip`ัะฐ

#### ะะฐัะธะฐะฝั 3: ะะบะพะฝะบะฐ ะฑะตะปำะฝ าัั

exe ัะฐะนะปะณะฐ ะธะบะพะฝะบะฐ ััะฝะฐััััั ำฉัะตะฝ (ะผะฐััััะฐะบ ะฑะตะปะดะตัาฏะปำั ำฉัะตะฝ):

```bash
# 1-2. ะฎะณะฐััะดะฐะณั ะบะตะฑะตะบ ะฐะดัะผ

# 3. ะะตัััั ะบะพะผะฟะธะปััะพััะฝ ััะฝะฐััััั (ะฑะตั ัะฐะฟะบัั)
go install github.com/akavel/rsrc@latest

# 4. Windows ัะตััััะปะฐััะฝ ััะฐั
cd cmd/claudecompanion
rsrc -ico "..\..\icon.ico" -o rsrc_windows_amd64.syso
cd ..\..

# 5. ะฃัะฝะฐัััััะปะณะฐะฝ ะธะบะพะฝะบะฐ ะฑะตะปำะฝ าัั
go build -ldflags "-H windowsgui" -o dist/claudecompanion.exe ./cmd/claudecompanion

# 6. ะคะฐะนะปะปะฐัะฝั ะบาฏัะตัาฏ
copy config.yaml.example dist\config.yaml

# 7. ะะธาฃำะนัะผำะฝะต าัั
cd build
package-extension.bat
```

### ะัะปะฐะดะบะฐ าััั (ะบะพะฝัะพะปั ะฑะตะปำะฝ)

ะญัะปำะฟ ััะณะฐัั าปำะผ ะพัะปะฐะดะบะฐ ำฉัะตะฝ (ะบาฏัะตะฝะณำะฝ ะบะพะฝัะพะปั ะฑะตะปำะฝ):

```bash
# ะะพะณะปะฐัะฝั ะบะฐัะฐั ำฉัะตะฝ ะบะพะฝัะพะปั ะฑะตะปำะฝ าัั
go build -o dist/claudecompanion-debug.exe ./cmd/claudecompanion

# ะะพะฝัะพะปัะดำ ะฑะฐัะปะฐั
dist\claudecompanion-debug.exe
```

### ะะธาฃำะนัะผำ ะณะตะฝำ

ะัะฐัะทะตั ะบะธาฃำะนัะผำัะตะฝ ะณะตะฝำ ัาฃะฐะดะฐะฝ าัั ำฉัะตะฝ:

```bash
cd build
package-extension.bat
```

ะฏะบะธ ะบัะป ะฑะตะปำะฝ:

```bash
cd extension
powershell -Command "Compress-Archive -Path manifest.json,background.js,options.html,options.js,icon48.png,icon96.png -DestinationPath ../dist/claudecompanion-extension.zip -Force"
```

### าััะฝั ัะธะบัะตัาฏ

าััะดะฐะฝ ัะพาฃ ัะธะบัะตัะตะณะตะท:

```bash
# ะคะฐะนะปะปะฐัะฝัาฃ ะฑัะปััะฝ ัะธะบัะตัาฏ
dir dist

# ะัะปััะณะฐ ัะธะตั:
# claudecompanion.exe (ัะตะปะธะท) ัะบะธ claudecompanion-debug.exe (ะพัะปะฐะดะบะฐ)
# claudecompanion-extension.zip
# config.yaml
```

## ะัะพะตะบั ััััะบัััะฐัั

```
ClaudeCompanion/
โโโ cmd/
โ   โโโ claudecompanion/
โ       โโโ main.go              # ะัััะผัะฐ ะบะตัาฏ ะฝะพะบัะฐัั
โโโ internal/
โ   โโโ api/                     # Claude.ai API ะบะปะธะตะฝัั
โ   โโโ config/                  # ะะพะฝัะธะณััะฐัะธั ะฑะตะปำะฝ ะธะดะฐัำ ะธัาฏ
โ   โโโ icon/                    # ะะธะฝะฐะผะธะบ ะธะบะพะฝะบะฐ ะณะตะฝะตัะฐัะพัั
โ   โโโ logger/                  # ะะพะณะปะฐั ัะธััะตะผะฐัั
โ   โโโ notifier/                # Toast ะฑะตะปะดะตัาฏะปำัะต
โ   โโโ server/                  # ะะธาฃำะนัะผำ ำฉัะตะฝ HTTP ัะตัะฒะตั
โ   โโโ tray/                    # ะกะธััะตะผะฐ ััะตะนั ะผะตะฝะตะดะถะตัั
โโโ extension/
โ   โโโ manifest.json            # Firefox ะบะธาฃำะนัะผำัะต ะผะฐะฝะธัะตััั
โ   โโโ background.js            # ะะธาฃำะนัะผำ ะปะพะณะธะบะฐัั
โ   โโโ icon.png                 # ะะธาฃำะนัะผำ ะธะบะพะฝะบะฐัั
โโโ dist/
โ   โโโ claudecompanion.exe      # าัะตะปะณะฐะฝ ะบัััะผัะฐ
โ   โโโ config.yaml              # ะัะปะปะฐะฝััั ะบะพะฝัะธะณััะฐัะธััะต (git'ัะฐ ัาฏะณะตะป)
โโโ schema/
โ   โโโ architecture.md          # าะตะฝัะตะบะปะต ะฐััะธัะตะบัััะฐ
โ   โโโ architecture-simple.txt  # ASCII ะดะธะฐะณัะฐะผะผะฐัั
โโโ go.mod
โโโ go.sum
โโโ icon.ico                     # ะัััะผัะฐ ะธะบะพะฝะบะฐัั
โโโ config.yaml.example          # ะะพะฝัะธะณััะฐัะธั าฏัะฝำะณะต
โโโ README.md                    # ะะฝะณะปะธะทัำ ะดะพะบัะผะตะฝัะฐัะธั
โโโ README.ru.md                 # ะัั ะดะพะบัะผะตะฝัะฐัะธััะต
```

## ะัะพะฑะปะตะผะฐะปะฐัะฝั ัะธัาฏ

### ะะธาฃำะนัะผำ ััะปำะผะธ
- Firefox ะฑะฐัะปะฐะฝะณะฐะฝัะฝ ัะธะบัะตัะตะณะตะท
- `about:debugging`ัะฐ ะบะธาฃำะนัะผำะฝะต ัาฃะฐะดะฐะฝ ะนำฉะบะปำะณะตะท
- ะัะฐัะทะตั ะบะพะฝัะพะปะตะฝ ัะฐัะฐะปะฐัะฝั ะบะฐัะฐั ำฉัะตะฝ ะฐััะณัะท

### ะะบะพะฝะบะฐ ัาฃะฐัััะปะผัะน
- Firefox'ัะฐ Claude.ai'ะณะฐ ะบะตัะณำะฝะตะณะตะทะฝะต ัะธะบัะตัะตะณะตะท
- ะะธาฃำะนัะผำ ะผำะณัะปาฏะผะฐัะฝั าะธะฑำัะณำะฝะตะฝ ัะธะบัะตัะตะณะตะท (ะปะพะณะปะฐัะฝั ะบะฐัะฐะณัะท, ะบะฐะฑัะฝะณะฐะฝ ะธะบำะฝ)
- ะัััะผัะฐะฝั ัาฃะฐะดะฐะฝ ะฑะฐัะปะฐัะณะฐ ััััััะณัะท

### ะัะพะบัะธ ัะฐัะฐะปะฐัั
- config.yaml'ะดะฐ ะฟัะพะบัะธ ะฐะดัะตััะฝ ัะธะบัะตัะตะณะตะท
- ะัะพะบั ะบัะป ะฑะตะปำะฝ curl ะฑะตะปำะฝ ััะฝะฐะณัะท
- ะะธัำะบ ะธะบำะฝ, ะฟัะพะบัะธะดะฐ ะฐััะตะฝัะธัะธะบะฐัะธัะฝะต ัะธะบัะตัะตะณะตะท

### ะะตะปะดะตัาฏะปำั ะบาฏััำัะตะปะผะธ
- Windows ะบำฉะนะปำาฏะปำัะตะฝะดำ ะฑะตะปะดะตัาฏะปำัะฝะต ะบะฐะฑัะทัะณัะท
- ะำฉะนะปำาฏะปำัะดำ ะฑะตะปะดะตัาฏ ัะธะบะปำัะตะฝ ัะธะบัะตัะตะณะตะท
- ะะตะปะดะตัาฏะปำัะฝะต ัะตััะปะฐั ำฉัะตะฝ ะดะตะผะพ-ัะตะถะธะผะฝั ััะฝะฐะณัะท

## ะำะนะปำะฝะตัะปำั

### Go ะบะธัะฐะฟัะฐะฝำะปำัะต
- [github.com/getlantern/systray](https://github.com/getlantern/systray) - ะกะธััะตะผะฐ ััะตะนั (ะบัะพัั-ะฟะปะฐััะพัะผะฐะปั)
- [github.com/go-toast/toast](https://github.com/go-toast/toast) - Toast ะฑะตะปะดะตัาฏะปำัะต (Windows)
- [github.com/gen2brain/beeep](https://github.com/gen2brain/beeep) - ะะตะปะดะตัาฏะปำั (macOS/Linux)
- [github.com/robfig/cron/v3](https://github.com/robfig/cron) - ะะฐัะฟะธัะฐะฝะธะต ะฑัะตะฝัะฐ ะฑะธัะตะผะฝำั ะฟะปะฐะฝะปะฐััั
- [gopkg.in/yaml.v3](https://gopkg.in/yaml.v3) - YAML ะฟะฐััะปะฐั

### ะขััะบั ะบะพัะฐะปะปะฐั
- **Windows**: curl.exe - API ัะพัะฐัะปะฐัั ำฉัะตะฝ (Windows 10+ ะบะตัำ)
- **macOS**: Homebrew curl - API ัะพัะฐัะปะฐัั ำฉัะตะฝ (ััะฝะฐััััั: `brew install curl`)
- **Linux**: curl - API ัะพัะฐัะปะฐัั ำฉัะตะฝ (ะฟะฐะบะตั ะผะตะฝะตะดะถะตัั ะฑะตะปำะฝ ััะฝะฐััััั)
- **Linux**: notify-send - ะะตะปะดะตัาฏะปำั ำฉัะตะฝ (`libnotify-bin` ัะบะธ `libnotify` ะฟะฐะบะตััะฝ ััะฝะฐััััั)
- **Windows**: notepad.exe - ะะพะฝัะธะณััะฐัะธั ัะฐะนะปัะฝ ะฐัั ำฉัะตะฝ

## ะะธัะตะฝะทะธั

MIT

## าฎัะตัะบำ ะบะฐัะฝะฐัั

ะขะตะปำัำ ะฝะธะฝะดะธ ำฉะปะตั ัำัะธะผ ะธัะตะปำ! ะะธะฝาปะฐั, Pull Request'ะปะฐั ััะฐะณัะท.

## ะฏัะดำะผ

ะกะพัะฐัะปะฐั าปำะผ ะฟัะพะฑะปะตะผะฐะปะฐั ะฑัะตะฝัะฐ GitHub'ัะฐ issue ััะฐะณัะท.
